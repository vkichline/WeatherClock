"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),_get=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}},ClockFace=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={time:new Date}}return _inherits(t,n),_createClass(t,[{key:"tick",value:function(){this.setState(function(){return{time:new Date}})}},{key:"componentDidMount",value:function(){var n=this;this.interval=setInterval(function(){return n.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this.state.time,n=t.getHours(),i=t.getMinutes(),r=t.getSeconds(),u=n>11;n=n>12?n-12:n;n=n==0?12:n;var f=n.toString(),e=(i<10?"0":"")+i.toString(),o=":"+(r<10?"0":"")+r.toString(),s=this.props.days[t.getDay()],h=this.props.months[t.getMonth()],c=s+" "+h+" "+t.getDate()+", "+t.getFullYear();return React.createElement("div",{className:"clock-face-container"},React.createElement("table",{className:"clock-face"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{rowSpan:"2",className:"time"},f+":"+e),React.createElement("td",{className:"seconds"},o)),React.createElement("tr",null,React.createElement("td",{className:"ampm"},u?"pm":"am")),React.createElement("tr",null,React.createElement("td",{colSpan:"2",className:"date"},c)))))}}]),t}(React.Component),WeatherForecast,WeatherClock;ClockFace.defaultProps={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbrev:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};WeatherForecast=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"getIconClass",value:function(n){n=parseInt(n);switch(n){case 25:case 32:case 33:case 34:case 36:case 3200:return"clear-day";case 0:case 1:case 2:case 6:case 8:case 9:case 10:case 11:case 12:case 17:case 35:case 39:case 40:return"rain";case 3:case 4:case 37:case 38:case 45:case 47:return"thunderstorms";case 5:case 7:case 13:case 14:case 16:case 18:case 41:case 42:case 43:case 46:return"snow";case 15:case 19:case 20:case 21:case 22:return"fog";case 24:case 23:return"windy";case 26:case 27:case 28:case 31:return"cloudy";case 29:case 30:case 44:return"partly-cloudy-day"}}},{key:"render",value:function(){var t="icon-image",n=this.props.channel;return n.hasOwnProperty("item")&&n.item.condition.code!=""&&(t=" icon-image "+this.getIconClass(n.item.condition.code)),React.createElement("div",{className:"weather-forecast-container"},React.createElement("div",{className:"weather-forecast"},React.createElement("div",{className:"temperature"},n.hasOwnProperty("item")?n.item.condition.temp+"°":"?"),React.createElement("div",{className:"icon"},React.createElement("img",{className:t,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII="}))))}}]),t}(React.Component);WeatherClock=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={channel:{}}}return _inherits(t,n),_createClass(t,[{key:"getForecast",value:function(n){var i="select * from weather.forecast where woeid="+this.props.cities[5].key,r="https://query.yahooapis.com/v1/public/yql?format=json&q="+i,t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&t.status===200){var i=JSON.parse(t.response),r=i.query.results;n(r)}};t.open("GET",r);t.send()}},{key:"refresh",value:function(){var n=this;this.getForecast(function(t){n.setState({channel:t.channel})})}},{key:"componentDidMount",value:function(){var n=this;this.refresh();this.interval=setInterval(function(){return n.refresh()},36e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return React.createElement("div",{className:"app-container"},React.createElement("div",{className:"column1"}),React.createElement("div",{className:"column2"},React.createElement(ClockFace,null),React.createElement(WeatherForecast,{channel:this.state.channel})),React.createElement("div",{className:"column3"}))}}]),t}(React.Component);WeatherClock.defaultProps={cities:[{key:2357536,label:"Austin, TX"},{key:2379574,label:"Chicago, IL"},{key:2459115,label:"New York, NY"},{key:2475687,label:"Portland, OR"},{key:2487956,label:"San Francisco, CA"},{key:2490383,label:"Seattle, WA"}]};$(document).ready(function(){ReactDOM.render(React.createElement(WeatherClock,null),document.getElementById("mount"))});